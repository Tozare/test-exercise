{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/emir/Desktop/Web/test-exercise/pages/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from 'react';\nimport CreateOutlinedIcon from '@material-ui/icons/CreateOutlined';\nimport NotificationsOutlinedIcon from '@material-ui/icons/NotificationsOutlined';\nimport AlternateEmailIcon from '@material-ui/icons/AlternateEmail';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport PermContactCalendarIcon from '@material-ui/icons/PermContactCalendar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Avatar, TextField, Button } from '@material-ui/core';\nimport '../src/home.less';\nimport { getEmail, getInitials, getPhone, storage } from \"../domain/storageControl\";\nvar initialErrors = {\n  emailError: '',\n  phoneError: '',\n  initialsError: ''\n};\nexport default function Home() {\n  _s();\n\n  var _useState = useState('Фамилия Имя'),\n      initials = _useState[0],\n      setInitials = _useState[1];\n\n  var _useState2 = useState('Укажите почту'),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState('Укажите номер'),\n      phone = _useState3[0],\n      setPhone = _useState3[1];\n\n  useEffect(function () {\n    // Обновляем заголовок документа с помощью API браузера\n    setInitials(getInitials());\n    setEmail(getEmail());\n    setPhone(getPhone());\n  });\n\n  var _useState4 = useState(true),\n      isModify = _useState4[0],\n      setIsMofify = _useState4[1];\n\n  var _useState5 = useState(false),\n      confirmModal = _useState5[0],\n      setConfirmModal = _useState5[1];\n\n  var _useState6 = useState(initialErrors),\n      errors = _useState6[0],\n      setErrors = _useState6[1];\n\n  var _useState7 = useState(''),\n      initialsInput = _useState7[0],\n      setInitialsInput = _useState7[1];\n\n  var _useState8 = useState(''),\n      emailInput = _useState8[0],\n      setEmailInput = _useState8[1];\n\n  var _useState9 = useState(''),\n      phoneInput = _useState9[0],\n      setPhoneInput = _useState9[1];\n\n  var changeEmail = function changeEmail(e) {\n    setEmailInput(e.target.value);\n  };\n\n  var changeInitials = function changeInitials(e) {\n    setInitialsInput(e.target.value);\n  };\n\n  var changePhone = function changePhone(e) {\n    setPhoneInput(e.target.value);\n  };\n\n  var validate = function validate() {\n    // add more validation errors messages\n    var newErrors = _objectSpread({}, errors);\n\n    newErrors.emailError = /$^|.+@.+..+/.test(emailInput) ? '' : 'Вы неверно указали электронную почту';\n    newErrors.phoneError = /^[0-9\\b]+$/.test(phoneInput) && phoneInput.length == 11 ? '' : 'Вы неверно указали номер';\n    newErrors.initialsError = /[A-Z][a-z]+\\s[A-Z][a-z]+/.test(initialsInput) ? '' : 'Вы неверно указали имя или фамилию';\n    setErrors(newErrors);\n    return Object.values(newErrors).every(function (error) {\n      return error === '';\n    });\n  };\n\n  var finisModify = function finisModify() {\n    setInitialsInput('');\n    setEmailInput('');\n    setPhoneInput('');\n    setErrors(initialErrors);\n    setIsMofify(false);\n  };\n\n  var openModify = function openModify() {\n    setIsMofify(true);\n  };\n\n  var submit = function submit(e) {\n    e.preventDefault();\n\n    if (validate()) {\n      setConfirmModal(true);\n    }\n  };\n\n  var confirmSubmit = function confirmSubmit() {\n    setInitials(initialsInput);\n    setEmail(emailInput);\n    setPhone(phoneInput);\n    storage.store('initials', initialsInput);\n    storage.store('email', emailInput);\n    storage.store('phone', phoneInput);\n    finisModify();\n    setConfirmModal(false);\n  };\n\n  var cancelSubmit = function cancelSubmit() {\n    setConfirmModal(false);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"top-profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"top-profile-notification\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, __jsx(NotificationsOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 63\n    }\n  })), __jsx(\"div\", {\n    className: \"top-profile-divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"top-profile-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, __jsx(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 57\n    }\n  })), __jsx(\"div\", {\n    className: \"top-profile-initials\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, initials.split(' ')[0], \" \", initials.split(' ')[1].charAt(0), \".\")), __jsx(\"div\", {\n    className: \"personal-profile-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, \"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"), __jsx(\"div\", {\n    className: \"main-menu-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F/\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"), __jsx(\"div\", {\n    className: 'initials-container',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, __jsx(Avatar, {\n    className: \"avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"initials\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, initials), isModify ? __jsx(\"div\", {\n    className: \"modify-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"text\",\n    onClick: finisModify,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"), __jsx(CloseIcon, {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  })) : __jsx(\"div\", {\n    className: \"modify-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"text\",\n    onClick: openModify,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 29\n    }\n  }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"), __jsx(CreateOutlinedIcon, {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }))), isModify ? __jsx(\"form\", {\n    className: \"info-modify-container\",\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"info-modify\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"input-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }, __jsx(PermContactCalendarIcon, {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 33\n    }\n  }), __jsx(TextField, _extends({\n    className: \"input\",\n    id: \"name\",\n    label: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F \\u0438 \\u0438\\u043C\\u044F\",\n    placeholder: \"\\u0423\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0438 \\u0444\\u0430\\u043C\\u0438\\u043B\\u0438\\u044E \\u0438 \\u0438\\u043C\\u044F\",\n    variant: \"outlined\",\n    value: initialsInput,\n    onChange: changeInitials\n  }, errors.initialsError && {\n    error: true,\n    helperText: errors.initialsError\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 33\n    }\n  }))), __jsx(\"div\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }), __jsx(\"div\", {\n    className: \"input-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, __jsx(AlternateEmailIcon, {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 33\n    }\n  }), __jsx(TextField, _extends({\n    className: \"input\",\n    id: \"email\",\n    label: \"E-mail\",\n    placeholder: \"Ivanova@mail.ru\",\n    variant: \"outlined\",\n    value: emailInput,\n    onChange: changeEmail\n  }, errors.emailError && {\n    error: true,\n    helperText: errors.emailError\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 33\n    }\n  }))), __jsx(\"div\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }), __jsx(\"div\", {\n    className: \"input-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  }, __jsx(PhoneIcon, {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 33\n    }\n  }), __jsx(TextField, _extends({\n    className: \"input\",\n    id: \"phone\",\n    label: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",\n    placeholder: \"\\u0423\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",\n    variant: \"outlined\",\n    value: phoneInput,\n    onChange: changePhone\n  }, errors.phoneError && {\n    error: true,\n    helperText: errors.phoneError\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  })))), __jsx(\"div\", {\n    className: \"btn-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 25\n    }\n  }, __jsx(Button, {\n    className: \"btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }\n  }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"))) : __jsx(\"div\", {\n    className: \"info-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"email-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }, __jsx(AlternateEmailIcon, {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }), __jsx(\"div\", {\n    className: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, email)), __jsx(\"div\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    className: \"phone-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 25\n    }\n  }, __jsx(PhoneIcon, {\n    className: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }), __jsx(\"div\", {\n    className: \"phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, phone)))), confirmModal && __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }\n  }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F?\"), __jsx(Button, {\n    className: \"btn-save\",\n    onClick: confirmSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"), __jsx(Button, {\n    className: \"btn-cancel\",\n    onClick: cancelSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }, \"\\u041D\\u0435 \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u044F\\u0442\\u044C\"))));\n}\n\n_s(Home, \"qmvL5+h9XbZT1MHBaDOQJZP6V8A=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/emir/Desktop/Web/test-exercise/pages/index.tsx"],"names":["useState","useEffect","CreateOutlinedIcon","NotificationsOutlinedIcon","AlternateEmailIcon","PhoneIcon","PermContactCalendarIcon","CloseIcon","Avatar","TextField","Button","getEmail","getInitials","getPhone","storage","initialErrors","emailError","phoneError","initialsError","Home","initials","setInitials","email","setEmail","phone","setPhone","isModify","setIsMofify","confirmModal","setConfirmModal","errors","setErrors","initialsInput","setInitialsInput","emailInput","setEmailInput","phoneInput","setPhoneInput","changeEmail","e","target","value","changeInitials","changePhone","validate","newErrors","test","length","Object","values","every","error","finisModify","openModify","submit","preventDefault","confirmSubmit","store","cancelSubmit","split","charAt","helperText"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\n\nimport CreateOutlinedIcon from '@material-ui/icons/CreateOutlined';\nimport NotificationsOutlinedIcon from '@material-ui/icons/NotificationsOutlined';\nimport AlternateEmailIcon from '@material-ui/icons/AlternateEmail';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport PermContactCalendarIcon from '@material-ui/icons/PermContactCalendar';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { Avatar, TextField, Button } from '@material-ui/core';\n\nimport '../src/home.less';\nimport {getEmail, getInitials, getPhone, storage} from \"../domain/storageControl\";\n\nconst initialErrors = {\n    emailError: '',\n    phoneError: '',\n    initialsError: ''\n}\n\nexport default function Home(){\n\n    const [initials, setInitials] = useState('Фамилия Имя');\n    const [email, setEmail] = useState('Укажите почту');\n    const [phone, setPhone] = useState('Укажите номер');\n\n    useEffect(() => {\n        // Обновляем заголовок документа с помощью API браузера\n        setInitials(getInitials());\n        setEmail(getEmail());\n        setPhone(getPhone());\n    });\n\n    const [isModify, setIsMofify] = useState(true);\n    const [confirmModal, setConfirmModal] = useState(false);\n    const [errors, setErrors] = useState(initialErrors);\n\n    const [initialsInput, setInitialsInput] = useState('');\n    const [emailInput, setEmailInput] = useState('');\n    const [phoneInput, setPhoneInput] = useState('');\n\n    const changeEmail = (e) => {\n        setEmailInput(e.target.value);\n    }\n    const changeInitials = (e) => {\n        setInitialsInput(e.target.value);\n    }\n    const changePhone = (e) => {\n        setPhoneInput(e.target.value);\n    }\n\n    const validate = (): boolean => {\n        // add more validation errors messages\n        let newErrors = {...errors}\n        newErrors.emailError = (/$^|.+@.+..+/).test(emailInput) ? '' : 'Вы неверно указали электронную почту'\n        newErrors.phoneError = (/^[0-9\\b]+$/).test(phoneInput) && phoneInput.length == 11 ? '': 'Вы неверно указали номер'\n        newErrors.initialsError = (/[A-Z][a-z]+\\s[A-Z][a-z]+/).test(initialsInput) ? '': 'Вы неверно указали имя или фамилию'\n\n        setErrors(newErrors);\n\n        return Object.values(newErrors).every(error => error === '')\n    }\n\n    const finisModify = () => {\n        setInitialsInput('');\n        setEmailInput('');\n        setPhoneInput('');\n        setErrors(initialErrors);\n        setIsMofify(false);\n    }\n\n    const openModify = () => {\n        setIsMofify(true);\n    }\n\n    const submit = (e) => {\n        e.preventDefault();\n        if (validate()){\n            setConfirmModal(true)\n        }\n    }\n\n    const confirmSubmit = () => {\n        setInitials(initialsInput);\n        setEmail(emailInput);\n        setPhone(phoneInput);\n        storage.store('initials', initialsInput);\n        storage.store('email', emailInput);\n        storage.store('phone', phoneInput);\n        finisModify()\n        setConfirmModal(false);\n    }\n\n    const cancelSubmit = () => {\n        setConfirmModal(false);\n    }\n\n    return (\n        <>\n            <div className='background'/>\n            <div className='container'>\n                <div className='top-profile'>\n                    <div className='top-profile-notification'><NotificationsOutlinedIcon/></div>\n                    <div className='top-profile-divider'/>\n                    <div className='top-profile-avatar'><Avatar/></div>\n                    <div className='top-profile-initials'>{initials.split(' ')[0]} {initials.split(' ')[1].charAt(0)}.</div>\n                </div>\n\n                <div className='personal-profile-link'>Личный профиль</div>\n                <div className='main-menu-link'>Главная/Личный профиль</div>\n                <div className={'initials-container'}>\n                    <Avatar className='avatar'/>\n                    <div className='initials'>{initials}</div>\n                    {\n                    isModify ?\n                        <div className='modify-btn'>\n                            <div className='text' onClick={finisModify}>Закрыть</div>\n                            <CloseIcon className='icon'/>\n                        </div>\n                        :\n                        <div className='modify-btn'>\n                            <div className='text' onClick={openModify}>Редактировать</div>\n                            <CreateOutlinedIcon className='icon'/>\n                        </div>\n                    }\n                </div>\n                { isModify ?\n                    <form className='info-modify-container' onSubmit={submit}>\n                        <div className='info-modify'>\n                            <div className='input-container'>\n                                <PermContactCalendarIcon className='icon'/>\n                                <TextField\n                                    className='input'\n                                    id='name'\n                                    label='Фамилия и имя'\n                                    placeholder='Укажите ваши фамилию и имя'\n                                    variant='outlined'\n                                    value={initialsInput}\n                                    onChange={changeInitials}\n                                    {...(errors.initialsError && {error: true, helperText: errors.initialsError})}\n                                />\n                            </div>\n                            <div className='divider'/>\n                            <div className='input-container'>\n                                <AlternateEmailIcon className='icon'/>\n                                <TextField\n                                    className='input'\n                                    id='email'\n                                    label='E-mail'\n                                    placeholder='Ivanova@mail.ru'\n                                    variant='outlined'\n                                    value={emailInput}\n                                    onChange={changeEmail}\n                                    {...(errors.emailError && {error: true, helperText: errors.emailError})}\n                                />\n                            </div>\n                            <div className='divider'/>\n                            <div className='input-container'>\n                                <PhoneIcon className='icon'/>\n                                <TextField\n                                    className='input'\n                                    id='phone'\n                                    label='Номер телефона'\n                                    placeholder='Укажите номер телефона'\n                                    variant='outlined'\n                                    value={phoneInput}\n                                    onChange={changePhone}\n                                    {...(errors.phoneError && {error: true, helperText: errors.phoneError})}\n                                />\n                            </div>\n                        </div>\n                        <div className='btn-container'>\n                            <Button className='btn' type='submit'>Сохранить изменения</Button>\n                        </div>\n                    </form>\n                    :\n                    <div className='info-container'>\n                        <div className='email-container'>\n                            <AlternateEmailIcon className='icon'/>\n                            <div className='email'>{email}</div>\n                        </div>\n                        <div className='divider'/>\n                        <div className='phone-container'>\n                            <PhoneIcon className='icon'/>\n                            <div className='phone'>{phone}</div>\n                        </div>\n                    </div>\n                }\n            </div>\n            {\n                confirmModal &&\n                <div>\n                    <div className='background'/>\n                    <div className='modal'>\n                        <div className='label'>Сохранить изменения?</div>\n                        <Button className='btn-save' onClick={confirmSubmit}>Сохранить</Button>\n                        <Button className='btn-cancel' onClick={cancelSubmit}>Не сохранять</Button>\n                    </div>\n                </div>\n            }\n        </>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}